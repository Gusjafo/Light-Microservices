<div class="page-container">
  <mat-card>
    <mat-card-title>Eventos en tiempo real</mat-card-title>
    <mat-card-subtitle>
      Estado de conexión:
      <mat-chip-set>
        <mat-chip [color]="isConnected ? 'primary' : 'warn'" selected>
          {{ isConnected ? 'Conectado' : 'Desconectado' }}
        </mat-chip>
      </mat-chip-set>
    </mat-card-subtitle>
    <mat-card-actions>
      <button mat-button color="accent" (click)="clear()">Limpiar eventos</button>
    </mat-card-actions>
    <mat-card-content>
      <mat-list>
        <mat-list-item *ngFor="let event of events">
          <div matListItemTitle>{{ event.eventType }}</div>
          <div matListItemLine>{{ event.createdAt | date:'short' }}</div>
          <pre class="event-payload">{{ event.payload | json }}</pre>
        </mat-list-item>
        <mat-list-item *ngIf="events.length === 0">
          <div matListItemTitle>Sin eventos aún.</div>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>
